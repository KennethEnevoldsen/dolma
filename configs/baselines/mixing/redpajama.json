{
    "streams": [
      {
        "name": "redpajama",
        "documents": [
          "s3://ai2-llm/pretraining-data/sources/redpajama/v1/documents/split=train/dataset=arxiv/*.gz",
          "s3://ai2-llm/pretraining-data/sources/redpajama/v1/documents/split=train/dataset=book/*.gz",
          "s3://ai2-llm/pretraining-data/sources/redpajama/v1/documents/split=train/dataset=c4/*.gz",
          "s3://ai2-llm/pretraining-data/sources/redpajama/v1/documents/split=train/dataset=common_crawl/*.gz",
          "s3://ai2-llm/pretraining-data/sources/redpajama/v1/documents/split=train/dataset=stackexchange/*.gz",
          "s3://ai2-llm/pretraining-data/sources/redpajama/v1/documents/split=train/dataset=wikipedia/*.gz"
        ],
        "output": {
          "path": "s3://ai2-llm/pretraining-data/sources/redpajama/v1_decon_ppl_suite_v3",
          "max_size_in_bytes": 1000000000
        },
        "attributes": [
          "perplexity_suite_v3_option2"
        ],
        "filter": {
          "exclude": [
            "$@.attributes[?(@.bff_duplicate_paragraph_spans_decontamination && @.bff_duplicate_paragraph_spans_decontamination[0] && @.bff_duplicate_paragraph_spans_decontamination[0][2] >= 1.0)]"
          ]
        }
      }
    ],
    "work_dir": {
        "input" : "/mnt/tank/dolma_tmp/rp_input_mix",
        "output" : "/mnt/tank/dolma_tmp/rp_output_mix"
    },
    "processes": 1
  }